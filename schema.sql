-- 카테고리
--------------------------------------------------------
--  DDL for Sequence CATEGORY_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "SCOTT"."CATEGORY_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 5 NOCACHE  NOORDER  NOCYCLE ;

--------------------------------------------------------
--  DDL for Table CATEGORY
--------------------------------------------------------

  CREATE TABLE "SCOTT"."CATEGORY" 
   (	"CATEGORY_ID" NUMBER, 
	"CATEGORY_NAME" NVARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."CATEGORY"."CATEGORY_ID" IS '카테고리 아이디';
   COMMENT ON COLUMN "SCOTT"."CATEGORY"."CATEGORY_NAME" IS '카테고리 이름';
REM INSERTING into SCOTT.CATEGORY
SET DEFINE OFF;
Insert into SCOTT.CATEGORY (CATEGORY_ID,CATEGORY_NAME) values (1,'여행');
Insert into SCOTT.CATEGORY (CATEGORY_ID,CATEGORY_NAME) values (2,'식사');
Insert into SCOTT.CATEGORY (CATEGORY_ID,CATEGORY_NAME) values (3,'공연');
--------------------------------------------------------
--  DDL for Index CATEGORY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."CATEGORY_PK" ON "SCOTT"."CATEGORY" ("CATEGORY_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger CATEGORY_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SCOTT"."CATEGORY_TRG" 
   before insert on "SCOTT"."CATEGORY" 
   for each row 
begin  
   if inserting then 
      if :NEW."CATEGORY_ID" is null then 
         select CATEGORY_SEQ.nextval into :NEW."CATEGORY_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "SCOTT"."CATEGORY_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table CATEGORY
--------------------------------------------------------

  ALTER TABLE "SCOTT"."CATEGORY" MODIFY ("CATEGORY_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."CATEGORY" ADD CONSTRAINT "CATEGORY_PK" PRIMARY KEY ("CATEGORY_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "SCOTT"."CATEGORY" MODIFY ("CATEGORY_NAME" NOT NULL ENABLE);

commit;

--필드
--------------------------------------------------------
--  DDL for Sequence FIELD_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "SCOTT"."FIELD_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 10 NOCACHE  NOORDER  NOCYCLE ;


--------------------------------------------------------
--  DDL for Table FIELD
--------------------------------------------------------

  CREATE TABLE "SCOTT"."FIELD" 
   (	"FIELD_ID" NUMBER, 
	"CATEGORY_ID" NUMBER, 
	"FIELD_NAME" NVARCHAR2(100)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."FIELD"."FIELD_ID" IS '필드 id';
   COMMENT ON COLUMN "SCOTT"."FIELD"."CATEGORY_ID" IS '카테고리 id';
   COMMENT ON COLUMN "SCOTT"."FIELD"."FIELD_NAME" IS '필드이름(예:여행지,여행 스타일)';
REM INSERTING into SCOTT.FIELD
SET DEFINE OFF;
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (8,3,'공연 종류');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (9,3,'대화 주제');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (1,1,'여행지');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (2,1,'여행 스타일');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (3,2,'음식 종류');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (4,2,'식당 종류');
Insert into SCOTT.FIELD (FIELD_ID,CATEGORY_ID,FIELD_NAME) values (7,2,'대화 주제');
--------------------------------------------------------
--  DDL for Index CATEGOTY_FIELD_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."CATEGOTY_FIELD_PK" ON "SCOTT"."FIELD" ("FIELD_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger FIELD_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SCOTT"."FIELD_TRG" 
   before insert on "SCOTT"."FIELD" 
   for each row 
begin  
   if inserting then 
      if :NEW."FIELD_ID" is null then 
         select FIELD_SEQ.nextval into :NEW."FIELD_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "SCOTT"."FIELD_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table FIELD
--------------------------------------------------------

  ALTER TABLE "SCOTT"."FIELD" MODIFY ("CATEGORY_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."FIELD" MODIFY ("FIELD_NAME" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."FIELD" MODIFY ("FIELD_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."FIELD" ADD CONSTRAINT "CATEGOTY_FIELD_PK" PRIMARY KEY ("FIELD_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
commit;

-- 취향
--------------------------------------------------------
--  DDL for Sequence TASTE_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "SCOTT"."TASTE_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 39 NOCACHE  NOORDER  NOCYCLE ;

--------------------------------------------------------
--  DDL for Table TASTE
--------------------------------------------------------

  CREATE TABLE "SCOTT"."TASTE" 
   (	"TASTE_ID" NUMBER, 
	"FIELD_ID" NUMBER, 
	"TASTE_NAME" NVARCHAR2(200)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."TASTE"."TASTE_ID" IS '취향 id';
   COMMENT ON COLUMN "SCOTT"."TASTE"."FIELD_ID" IS '필드 id';
   COMMENT ON COLUMN "SCOTT"."TASTE"."TASTE_NAME" IS '취향 이름(서울, 제주도 등)';
REM INSERTING into SCOTT.TASTE
SET DEFINE OFF;
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (25,3,'양식');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (26,8,'콘서트');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (27,8,'연극');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (28,8,'뮤지컬');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (29,8,'페스티벌');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (30,8,'음악회');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (31,4,'뷔페');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (32,4,'카페');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (33,4,'술집/호프집');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (34,4,'패밀리 레스토랑');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (35,4,'고급 레스토랑');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (36,8,'음악방송');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (37,9,'공연 관련 이야기만');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (38,9,'일상 대화도 가능');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (15,3,'중식');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (18,3,'멕시칸');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (19,3,'인도식');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (20,3,'일식');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (23,7,'음식 관련 대화만');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (24,7,'일상 대화도 가능');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (1,2,'배낭여행');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (3,2,'럭셔리 여행');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (4,1,'유럽');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (6,1,'동북아시아');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (7,1,'동남아시아');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (8,1,'중앙아시아');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (9,1,'북미');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (10,1,'중남미');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (11,1,'오세아니아');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (12,1,'아프리카');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (13,1,'중동아시아');
Insert into SCOTT.TASTE (TASTE_ID,FIELD_ID,TASTE_NAME) values (14,3,'한식');
--------------------------------------------------------
--  DDL for Index TASTE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."TASTE_PK" ON "SCOTT"."TASTE" ("TASTE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger TASTE_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SCOTT"."TASTE_TRG" 
   before insert on "SCOTT"."TASTE" 
   for each row 
begin  
   if inserting then 
      if :NEW."TASTE_ID" is null then 
         select TASTE_SEQ.nextval into :NEW."TASTE_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "SCOTT"."TASTE_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table TASTE
--------------------------------------------------------

  ALTER TABLE "SCOTT"."TASTE" MODIFY ("TASTE_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."TASTE" MODIFY ("FIELD_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."TASTE" MODIFY ("TASTE_NAME" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."TASTE" ADD CONSTRAINT "TASTE_PK" PRIMARY KEY ("TASTE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;

-- 회원
--------------------------------------------------------
--  DDL for Table MEMBER
--------------------------------------------------------

  CREATE TABLE "SCOTT"."MEMBER" 
   (	"ID" VARCHAR2(20 BYTE), 
	"PW" VARCHAR2(20 BYTE), 
	"NAME" NVARCHAR2(30), 
	"GENDER" VARCHAR2(6 BYTE), 
	"BIRTH" DATE, 
	"EMAIL" VARCHAR2(50 BYTE), 
	"REG_DATE" DATE DEFAULT sysdate
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."MEMBER"."ID" IS '아이디';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."PW" IS '비밀번호';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."NAME" IS '이름';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."GENDER" IS '성별';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."BIRTH" IS '생년월일';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."EMAIL" IS '이메일';
   COMMENT ON COLUMN "SCOTT"."MEMBER"."REG_DATE" IS '가입일';
REM INSERTING into SCOTT.MEMBER
SET DEFINE OFF;
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('aaaa','a1234567','aaa','F',to_date('99/11/01','RR/MM/DD'),'aaa@naver.com',to_date('24/10/28','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('test1','a1234567','홍길동','M',to_date('90/01/01','RR/MM/DD'),'hong@naver.com',to_date('24/10/19','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('test2','a1234567','김미자','F',to_date('92/02/10','RR/MM/DD'),'kim@naver.com',to_date('24/10/12','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('test3','a1234567','이순신','M',to_date('93/03/14','RR/MM/DD'),'lee@naver.com',to_date('24/10/01','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('test4','a1234567','김영희','F',to_date('94/07/15','RR/MM/DD'),'kyh@naver.com',to_date('24/09/10','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('test5','a1234567','김철수','M',to_date('95/09/20','RR/MM/DD'),'kcs@naver.com',to_date('24/08/10','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('bbbb','a1234567','bbb','F',to_date('02/01/01','RR/MM/DD'),'bbb@naver.com',to_date('24/11/15','RR/MM/DD'));
Insert into SCOTT.MEMBER (ID,PW,NAME,GENDER,BIRTH,EMAIL,REG_DATE) values ('hong','a1234567','홍길동','M',to_date('24/01/01','RR/MM/DD'),'teste@exemplo.us',to_date('24/11/11','RR/MM/DD'));
--------------------------------------------------------
--  DDL for Index SYS_C007014
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."SYS_C007014" ON "SCOTT"."MEMBER" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table MEMBER
--------------------------------------------------------

  ALTER TABLE "SCOTT"."MEMBER" MODIFY ("PW" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER" MODIFY ("GENDER" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER" MODIFY ("BIRTH" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
commit;

--회원 취향
--------------------------------------------------------
--  DDL for Table MEMBER_TASTE
--------------------------------------------------------

  CREATE TABLE "SCOTT"."MEMBER_TASTE" 
   (	"MEMBER_ID" VARCHAR2(20 BYTE), 
	"TASTE_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."MEMBER_TASTE"."MEMBER_ID" IS '회원 id';
   COMMENT ON COLUMN "SCOTT"."MEMBER_TASTE"."TASTE_ID" IS '취향 id';
REM INSERTING into SCOTT.MEMBER_TASTE
SET DEFINE OFF;
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',35);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',31);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',32);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',23);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',24);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',27);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',26);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',37);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',38);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',4);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('aaaa',14);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('hong',9);
Insert into SCOTT.MEMBER_TASTE (MEMBER_ID,TASTE_ID) values ('hong',25);
--------------------------------------------------------
--  Constraints for Table MEMBER_TASTE
--------------------------------------------------------

  ALTER TABLE "SCOTT"."MEMBER_TASTE" MODIFY ("MEMBER_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."MEMBER_TASTE" MODIFY ("TASTE_ID" NOT NULL ENABLE);
commit;

--글
--------------------------------------------------------
--  DDL for Sequence POST_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "SCOTT"."POST_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 14 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table POST
--------------------------------------------------------

  CREATE TABLE "SCOTT"."POST" 
   (	"POST_ID" NUMBER, 
	"MEMBER_ID" VARCHAR2(20 BYTE), 
	"CATEGORY_ID" NUMBER, 
	"TITLE" NVARCHAR2(100), 
	"CONTENT" NCLOB, 
	"UPLOAD_TIME" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP, 
	"MEETING_DATE" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("CONTENT") STORE AS BASICFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "SCOTT"."POST"."POST_ID" IS '글 id';
   COMMENT ON COLUMN "SCOTT"."POST"."MEMBER_ID" IS '글쓴회원 id';
   COMMENT ON COLUMN "SCOTT"."POST"."CATEGORY_ID" IS '카테고리 id';
   COMMENT ON COLUMN "SCOTT"."POST"."TITLE" IS '글 제목';
   COMMENT ON COLUMN "SCOTT"."POST"."CONTENT" IS '글 내용';
   COMMENT ON COLUMN "SCOTT"."POST"."UPLOAD_TIME" IS '글 등록시간';
   COMMENT ON COLUMN "SCOTT"."POST"."MEETING_DATE" IS '만나는 날짜';
REM INSERTING into SCOTT.POST
SET DEFINE OFF;
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (10,'aaaa',3,'S콘서트',to_timestamp('24/11/19 12:25:14.526000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/12/13','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (2,'aaaa',3,'콘서트 동행인 구해요',to_timestamp('24/11/17 09:57:56.018000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/12/08','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (3,'aaaa',2,'ㅁㅁ식당 같이 가실 분?',to_timestamp('24/11/17 10:00:26.555000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/28','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (4,'aaaa',2,'aaaa',to_timestamp('24/11/18 12:12:09.645000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/15','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (8,'aaaa',1,'바다',to_timestamp('24/11/19 12:24:05.945000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/29','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (6,'aaaa',2,'ㅂㅂ식당',to_timestamp('24/11/19 12:22:46.050000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/12/27','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (7,'aaaa',3,'공방',to_timestamp('24/11/19 12:23:29.586000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/24','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (9,'aaaa',3,'P뮤지컬',to_timestamp('24/11/19 12:24:40.453000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/12/17','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (11,'aaaa',3,'R페스티벌',to_timestamp('24/11/19 12:25:40.660000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/05','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (12,'aaaa',3,'A콘서트',to_timestamp('24/11/19 12:26:10.272000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/11/23','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (1,'aaaa',1,'유럽 배낭여행 동행 구해요',to_timestamp('24/11/15 15:44:11.265000000','RR/MM/DD HH24:MI:SSXFF'),to_date('25/01/01','RR/MM/DD'));
Insert into SCOTT.POST (POST_ID,MEMBER_ID,CATEGORY_ID,TITLE,UPLOAD_TIME,MEETING_DATE) values (13,'hong',3,'S콘서트',to_timestamp('24/11/22 18:49:43.138000000','RR/MM/DD HH24:MI:SSXFF'),to_date('24/12/15','RR/MM/DD'));
--------------------------------------------------------
--  DDL for Index POST_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."POST_PK" ON "SCOTT"."POST" ("POST_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger POST_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SCOTT"."POST_TRG" 
   before insert on "SCOTT"."POST" 
   for each row 
begin  
   if inserting then 
      if :NEW."POST_ID" is null then 
         select POST_SEQ.nextval into :NEW."POST_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "SCOTT"."POST_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table POST
--------------------------------------------------------

  ALTER TABLE "SCOTT"."POST" MODIFY ("POST_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."POST" MODIFY ("MEMBER_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."POST" MODIFY ("CATEGORY_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."POST" MODIFY ("TITLE" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."POST" ADD CONSTRAINT "POST_PK" PRIMARY KEY ("POST_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
commit;

--글 취향
--------------------------------------------------------
--  DDL for Table POST_TASTE
--------------------------------------------------------

  CREATE TABLE "SCOTT"."POST_TASTE" 
   (	"POST_ID" NUMBER, 
	"TASTE_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."POST_TASTE"."POST_ID" IS '글 id';
   COMMENT ON COLUMN "SCOTT"."POST_TASTE"."TASTE_ID" IS '취향 id';
REM INSERTING into SCOTT.POST_TASTE
SET DEFINE OFF;
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (12,26);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (12,37);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (4,14);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (8,1);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (6,23);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (6,18);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (8,6);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (1,1);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (1,4);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (2,38);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (2,26);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (2,37);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (13,26);
Insert into SCOTT.POST_TASTE (POST_ID,TASTE_ID) values (13,37);
--------------------------------------------------------
--  Constraints for Table POST_TASTE
--------------------------------------------------------

  ALTER TABLE "SCOTT"."POST_TASTE" MODIFY ("POST_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."POST_TASTE" MODIFY ("TASTE_ID" NOT NULL ENABLE);
commit;

--댓글
--------------------------------------------------------
--  DDL for Sequence COMM_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "SCOTT"."COMM_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 16 NOCACHE  NOORDER  NOCYCLE ;

--------------------------------------------------------
--  DDL for Table COMM
--------------------------------------------------------

  CREATE TABLE "SCOTT"."COMM" 
   (	"COMM_ID" NUMBER, 
	"POST_ID" NUMBER, 
	"MEMBER_ID" VARCHAR2(20 BYTE), 
	"CONTENT" NVARCHAR2(500), 
	"UPLOAD_TIME" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

   COMMENT ON COLUMN "SCOTT"."COMM"."COMM_ID" IS '댓글 id';
   COMMENT ON COLUMN "SCOTT"."COMM"."POST_ID" IS '글 id';
   COMMENT ON COLUMN "SCOTT"."COMM"."MEMBER_ID" IS '작성자 id';
   COMMENT ON COLUMN "SCOTT"."COMM"."CONTENT" IS '댓글 내용';
   COMMENT ON COLUMN "SCOTT"."COMM"."UPLOAD_TIME" IS '댓글 등록시간';
REM INSERTING into SCOTT.COMM
SET DEFINE OFF;
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (3,1,'aaaa','댓글',to_timestamp('24/11/17 18:29:51.596000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (1,1,'hong','댓글',to_timestamp('24/11/15 16:12:44.671000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (4,2,'aaaa','댓글~',to_timestamp('24/11/17 18:46:10.868000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (5,2,'aaaa','댓글!',to_timestamp('24/11/17 18:48:46.306000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (6,2,'aaaa','댓글~',to_timestamp('24/11/17 18:50:31.463000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (7,2,'aaaa','우와ㅇ',to_timestamp('24/11/17 19:13:14.196000000','RR/MM/DD HH24:MI:SSXFF'));
Insert into SCOTT.COMM (COMM_ID,POST_ID,MEMBER_ID,CONTENT,UPLOAD_TIME) values (9,1,'aaaa','우하하,,,',to_timestamp('24/11/17 19:49:07.792000000','RR/MM/DD HH24:MI:SSXFF'));
--------------------------------------------------------
--  DDL for Index COMM_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "SCOTT"."COMM_PK" ON "SCOTT"."COMM" ("COMM_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger COMM_TRG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "SCOTT"."COMM_TRG" 
   before insert on "SCOTT"."COMM" 
   for each row 
begin  
   if inserting then 
      if :NEW."COMM_ID" is null then 
         select COMM_SEQ.nextval into :NEW."COMM_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "SCOTT"."COMM_TRG" ENABLE;
--------------------------------------------------------
--  Constraints for Table COMM
--------------------------------------------------------

  ALTER TABLE "SCOTT"."COMM" MODIFY ("COMM_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."COMM" MODIFY ("POST_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."COMM" MODIFY ("MEMBER_ID" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."COMM" MODIFY ("CONTENT" NOT NULL ENABLE);
  ALTER TABLE "SCOTT"."COMM" ADD CONSTRAINT "COMM_PK" PRIMARY KEY ("COMM_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
commit;

--카테고리_필드_취향_뷰

CREATE VIEW CATEGORY_FIELD_TASTE_VIEW
( CATEGORY_ID
, CATEGORY_NAME
, FIELD_ID
, FIELD_NAME
, TASTE_ID
, TASTE_NAME
)
AS select cf.CATEGORY_ID, cf.CATEGORY_NAME, cf.FIELD_ID, cf.FIELD_NAME,
    ft.TASTE_ID, ft.TASTE_NAME
from
(select C.CATEGORY_ID , C.CATEGORY_NAME, F.FIELD_ID, F.FIELD_NAME
from CATEGORY c FULL OUTER JOIN FIELD f
on C.CATEGORY_ID = F.CATEGORY_ID) cf
FULL OUTER JOIN 
(select T.FIELD_ID, T.TASTE_ID, T.TASTE_NAME
from member_taste mt right OUTER JOIN  taste t
on MT.TASTE_ID = T.TASTE_ID) ft
on cf.FIELD_ID = ft.FIELD_ID;
